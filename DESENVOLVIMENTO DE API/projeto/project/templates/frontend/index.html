{% extends 'base2.html' %}
{% load static %}
{% block content %}
<h1 id="titulo">Bem-vindo ao Site</h1>
<div class="row">
    <div class="col=-me-12">
        <h1>Exemplo de lista Ordenada</h1>
        <ol>
            <li>Terceiro item</li>
            <li>Primerio item</li>
            <li>Segundo item</li>            
            <li>Quarto item</li>
        </ol>
    </div> 
</div>
<!--<div id="testp"> </div> -->
<div class="row">
    <div class="col-md-12">
        <h1>Exemplo de lista desordenada</h1>
        <ul>
            <li><p style="color:red;" id="mensagem">Primerio item</p></li>
            <li><p style="color: yellow;">Segundo item</p></li>
            <li><p style="color:green;">Terceiro item </p></li>
            <li><p style="color: orange;"> Quarto item </p></li>
        </ol>
    </div> 
</div>
<div class="row">
    <div class="col-md-12">
        <h1>Exemplo de Tabela</h1>
        <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Imagem</th>
                <th scope="col">Nome</th>
                <th scope="col">Preço</th>
                <th scope="col">Descrição</th>
                <th scope="col">Estoque</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td scope="row">1</td>
                <td><img src="{% static 'images/noimages.png' %}" style="max-width:50%;" /> </td>
                <td><a href="https://books.google.com.br/books/publisher/content?id=BWqiBAAAQBAJ&hl=pt-BR&pg=PA2&img=1&zoom=3&bul=1&sig=ACfU3U1RsuDVNF_dwRVtpUtAhvic-Chmtw&w=1280" target="_blank"> primeiro item </a></td>
                <td>R$15,50</td>
                <td id="alteracao">Descrição do item em texto</td>
                <td> 500 peças</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td><img src="{% static 'images/noimages.png' %}" style="max-width:50%;"></td>
                <td>Segundo item</td>
                <td>R$15,50</td>
                <td>Descrição do item em texto</td>
                <td> 200 peças</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td><img src="{% static 'images/noimages.png' %}" style="max-width:50%;"></td>
                <td>Terceiro item</td>
                <td>R$15,50</td>
                <td>Descrição do item em texto</td>
                <td> 150 peças</td>
              </tr> 
            </tbody>
          </table>
    </div> 
</div>
<div id="chessboard"></div>
<button id="alterar" class="btn btn-md btn-warning">Alterar cores do tabuleiro</button>
<button id="voltar" class="btn btn-md btn-warning">voltar cores</button>

</hr>
<h1>Jogo da Velha</h1>
<div class="game-container">
  <h1>Jogo da Velha</h1>
  <div class="grid">
      <div class="cell" data-index="0"></div>
      <div class="cell" data-index="1"></div>
      <div class="cell" data-index="2"></div>
      <div class="cell" data-index="3"></div>
      <div class="cell" data-index="4"></div>
      <div class="cell" data-index="5"></div>
      <div class="cell" data-index="6"></div>
      <div class="cell" data-index="7"></div>
      <div class="cell" data-index="8"></div>
  </div>
  <button id="reset">Reiniciar Jogo</button>
  <p id="status"></p>
</div>

<button id="btnmudar"> deve clicar no botão </button>

<div class="row">
  <div class="col-md-12">
    <h1>Formulário de Estado ==> Cidade usando Javascript</h1>
  </div>
  <div class="col-md-12">
    <form id="formulario">
      <label for="estado">Estado:</label>
      <select id="estado" name="estado">
          <option value="">Selecione a Cidade</option>
          <option value="PI">Piauí</option>
          <option value="MA">Maranhão</option>
          <option value="CE">Ceará</option>
          <option value="SP">São Paulo</option>
          <option value="RJ">Rio de Janeiro</option>
          <option value="MG">Minas Gerais</option>
          <option value="BA">Bahia</option>
          <!-- Adicione outras opções de estado conforme necessário -->
      </select>

      <label for="cidade">Cidade:</label>
      <select id="cidade" name="cidade">
          <option value="">Selecione uma cidade</option>
      </select>
  </form>
  </div>
</div>





<style>
  #chessboard{
    display: grid;
    grid-template-columns: repeat(8,50px);
    grid-template-rows: repeat(8, 50px);
    border: 2px solid #000;
    box-shadow: 0 0 10px rgb(0, 0, 0, 0.5);
    margin-bottom: 20px;
    max-width: 404px;
  }
  .square{
    width: 50px;
    height: 50px;
  }
  .white{
    background-color: white;
  }
  .black{
    background-color: black;
  }





 /* <!--css do jogo da velha --> */
  .game-container {
    text-align: center;
}

.grid {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 10px;
    margin: 20px 0;
}

.cell {
    width: 100px;
    height: 100px;
    background-color: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2em;
    cursor: pointer;
    border: 2px solid #333;
}

#reset {
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
}

#status {
    margin-top: 20px;
    font-size: 1.2em;
}
</style>

<script>
let paragrafos = document.querySelectorAll('p');
paragrafos.forEach(paragrafo => {
paragrafo.style.color = 'blue';
});

let mensagem = document.getElementById('mensagem');
mensagem.innerText = 'Este é o novo texto!';

let alteracao = document.getElementById('alteracao');
alteracao.style.color = "red";
alteracao.innerHTML = "A nova descrição do produto foi alterada corretamente.";

//função que pega apenas as segunda imagem e coloca uma borda vermelha
let imagem = document.querySelectorAll('img');
if(imagem.length > 1){
  for(let i = 0; i < imagem.length; i++){
    if(i === 1){
       let segunda_imagem = imagem[i];
       segunda_imagem.style.border = "2px solid red";
    }
  }
}



console.log(imagem.length);


//Criara um tabuleiro de xadrez

const chessboard = document.getElementById('chessboard');
const botao = document.getElementById('alterar');
const bvoltar = document.getElementById('voltar');
const arcoiris = ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF', '#4B0082', '#9400D3' ];

function criarTabuleiro() {
  for( let row = 0; row < 8; row++ ){
      for( let col = 0; col < 8; col++ ){
        const square = document.createElement('div');
        square.classList.add('square');
        let rel = row + col;
          if((row + col) %2 === 0 ){            
            square.classList.add('white');
            square.setAttribute('rel', rel);
            square.classList.add('rel');
          }else{
            square.classList.add('black');  
            square.setAttribute('rel', rel);
            square.classList.add('rel');
          } 
          chessboard.appendChild(square);     
      }
  }
}

function alterarCores(){
  const blacksquare = document.querySelectorAll('.black');
  blacksquare.forEach( (square, index) => {
      square.style.backgroundColor = arcoiris[index % arcoiris.length];
  });   
}

function voltar(){
  const blacksquare = document.querySelectorAll('.black');
  blacksquare.forEach( (square ) => {
      square.style.backgroundColor = "black";
  });   
}

criarTabuleiro();
botao.addEventListener('click', alterarCores);
bvoltar.addEventListener('mouseover', voltar);

document.addEventListener("DOMContentLoaded", function(){
  var links = document.querySelectorAll('.rel');
  links.forEach( function(link){
    link.addEventListener("click", function(event) {
        var rel = this.getAttribute("rel");
        alert('o valor deste quadrado é '+ rel + '.');
    });
  });
});

//código para o jogo da velha
const cells = document.querySelectorAll('.cell');
const statusText = document.getElementById('status');
const resetButton = document.getElementById('reset');
let currentPlayer = 'X';
let gameBoard = ['', '', '', '', '', '', '', '', ''];
let isGameActive = true;

const winningConditions = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6]
];

function handleCellClick(event) {
    const clickedCell = event.target;
    const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

    if (gameBoard[clickedCellIndex] !== '' || !isGameActive) {
        return;
    }

    gameBoard[clickedCellIndex] = currentPlayer;
    clickedCell.textContent = currentPlayer;

    checkWinner();
}

function checkWinner() {
    let roundWon = false;
    for (let i = 0; i < winningConditions.length; i++) {
        const [a, b, c] = winningConditions[i];
        if (gameBbotaooard[a] && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c]) {
            roundWon = true;
            break;
        }
    }

    if (roundWon) {
        statusText.textContent = `${currentPlayer} venceu!`;
        isGameActive = false;
        return;
    }

    if (!gameBoard.includes('')) {
        statusText.textContent = 'Empate!';
        isGameActive = false;
        return;
    }

    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
}

function resetGame() {
    currentPlayer = 'X';
    gameBoard = ['', '', '', '', '', '', '', '', ''];
    isGameActive = true;
    statusText.textContent = '';
    cells.forEach(cell => cell.textContent = '');
}

cells.forEach(cell => cell.addEventListener('click', handleCellClick));
resetButton.addEventListener('click', resetGame);



function mudarTexto() {
      this.innerText = 'Clicado!';
}
let btnmudar = document.getElementById("btnmudar");
btnmudar.addEventListener('click', mudarTexto);


function saudar(data) {
    setTimeout(() => {
      newdata = alerta(data);
      data(newdata);
    }, 2000);
}

saudar(function(joaquim) {  
  alert(joaquim);
});

function alerta(data){
  joaquim = "funcionando corretamente";
  return joaquim;
}

//Função de busca de cidades utilizando o Brasilapi usando JAVASCRIPT

document.addEventListener('DOMContentLoaded', function () {
    const estadoSelect = document.getElementById('estado');
    const cidadeSelect = document.getElementById('cidade');

    estadoSelect.addEventListener('change', function () {
        const uf = estadoSelect.value;

        // Limpa as opções anteriores do select de cidades
        cidadeSelect.innerHTML = '<option value="">Selecione uma cidade</option>';

        // Verifica se uma sigla de estado foi selecionada
        if (uf) {
            // Faz a requisição à BrasilAPI
            fetch(`https://brasilapi.com.br/api/ibge/municipios/v1/${uf}`)
                .then(response => response.json())
                .then(cidades => {
                    // Preenche o select de cidades com as opções retornadas pela API
                    cidades.forEach(cidade => {
                        const option = document.createElement('option');
                        option.value = cidade.codigo_ibge;
                        option.textContent = cidade.nome;
                        cidadeSelect.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Erro ao buscar as cidades:', error);
                });
        }
    });
});

// $(document).ready(function() {
//     $('#estado').on('change', function() {
//         var uf = $(this).val(); // Obtém a sigla do estado selecionado

//         // Limpa o dropdown de cidades
//         $('#cidade').empty().append('<option value="">Selecione uma cidade</option>');

//         if (uf) {
//             // Faz a requisição à API usando $.getJSON()
//             $.getJSON(`https://brasilapi.com.br/api/ibge/municipios/v1/${uf}`, function(dados) {
//                 // Itera sobre os dados retornados pela API e popula o select de cidades
//                 $.each(dados, function(index, cidade) {
//                     $('#cidade').append($('<option>', {
//                         value: cidade.nome,
//                         text: cidade.nome
//                     }));
//                 });
//             }).fail(function() {
//                 console.error('Erro ao buscar as cidades.');
//             });
//         }
//     });
// });
</script>

{% endblock %}